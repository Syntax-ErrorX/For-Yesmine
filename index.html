<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Yesmine üíñ</title>
<style>
* { box-sizing: border-box; font-family: 'Poppins', sans-serif; margin:0; padding:0; }

body {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: radial-gradient(circle at top, #ffdae0, #ff4d6d);
  overflow: hidden;
}

/* --- FALLING ITEMS --- */
.falling-item {
  position: absolute;
  top: -50px;
  user-select: none;
  pointer-events: none;
  font-size: 20px;
  animation: fall linear forwards;
}

@keyframes fall {
  0% { transform: translateY(-50px) rotate(0deg) translateX(0); opacity:0; }
  20% { opacity: 1; }
  50% { transform: translateY(50vh) rotate(180deg) translateX(15px); }
  75% { transform: translateY(80vh) rotate(270deg) translateX(-15px); }
  100% { transform: translateY(110vh) rotate(360deg) translateX(0); opacity:0; }
}

/* --- SHAKE & CRY --- */
@keyframes shake { 0% {transform:0} 20% {transform: translate(-10px,5px)} 40% {transform:translate(10px,-5px)} 60%{transform:translate(-8px,4px)} 80%{transform:translate(8px,-4px)} 100%{transform:0} }
body.shake-screen { animation: shake 0.4s; }

#cry-popup {
  position: fixed;
  top: 20%;
  left:50%;
  transform:translateX(-50%);
  font-size: 2rem;
  font-weight:bold;
  color:white;
  background: rgba(0,0,0,0.7);
  padding: 20px 40px;
  border-radius:20px;
  display:none;
  z-index:5000;
}

#heart-crack {
  position: fixed;
  top:50%;
  left:50%;
  transform: translate(-50%, -50%) scale(0);
  font-size:6rem;
  z-index:6000;
  display:none;
  animation: crackAnim 0.6s ease forwards;
}

@keyframes crackAnim {
  0% {transform:translate(-50%,-50%) scale(0); opacity:0;}
  40% {transform:translate(-50%,-50%) scale(1.3); opacity:1;}
  70% {transform:translate(-50%,-50%) scale(1);}
  100% {transform:translate(-50%,-50%) scale(0.9); opacity:0;}
}

body.red-bg { background: radial-gradient(circle at center, #ff0000, #800000)!important; transition:0.2s ease; }

/* --- PASSCODE SCREEN --- */
#passcode-screen {
  position: fixed;
  inset:0;
  background:#ff4d6d;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:3000;
  transition: transform 0.8s ease;
}

.login-card {
  background:white;
  padding:30px;
  border-radius:20px;
  text-align:center;
  width:340px;
  box-shadow:0 10px 30px rgba(0,0,0,0.3);
}

#login-countdown {
  font-weight:bold;
  color:#ff3366;
  font-size:1.2rem;
  margin-bottom:10px;
  background:#fff0f3;
  display:inline-block;
  padding:5px 15px;
  border-radius:10px;
}

input {
  width:100%;
  padding:12px;
  border:2px solid #ffb3c6;
  border-radius:12px;
  text-align:center;
  font-size:1.1rem;
  outline:none;
}

#login-btn { margin-top:15px; background:#ff3366; color:white; width:100%; padding:12px; border-radius:12px; border:none; cursor:pointer; font-weight:bold; }
#login-btn:disabled { background:#ccc; cursor:not-allowed; }

/* --- DECORATIONS --- */
#fixed-ring-img { position: fixed; bottom:3vw; right:3vw; width:20vw; max-width:160px; display:none; z-index:2700; pointer-events:none; transform:scaleX(1) rotate(-15deg); animation:ringGlow 2s infinite alternate, ringFloat 3s ease-in-out infinite; }

.corner-pic { position: fixed; width:20vw; max-width:160px; height:auto; display:none; z-index:2600; clip-path: polygon(50% 15%, 80% 0%, 100% 20%, 100% 50%, 50% 95%, 0% 50%, 0% 20%, 20% 0%); }
#top-left-pic { top:25px; left:25px; transform: rotate(-5deg); animation: picFloatTop 5s ease-in-out infinite; }
#top-right-pic { top:25px; right:25px; transform: rotate(5deg); animation: picFloatTop 6s ease-in-out infinite reverse; }
#bottom-left-pic { bottom:25px; left:25px; transform: rotate(5deg); animation: picFloat 4s ease-in-out infinite; }

@keyframes ringFloat { from{transform:scaleX(1) rotate(-15deg) translateY(0);} to{transform:scaleX(1) rotate(-10deg) translateY(-10px);} }
@keyframes picFloat { 0%,100%{transform:rotate(5deg) translateY(0);} 50%{transform:rotate(-2deg) translateY(-15px);} }
@keyframes picFloatTop { 0%,100%{transform:rotate(-5deg) translateY(0);} 50%{transform:rotate(2deg) translateY(10px);} }
@keyframes ringGlow { from{filter: drop-shadow(0 0 10px rgba(255,255,255,0.6));} to{filter: drop-shadow(0 0 30px rgba(255,255,255,1));} }

/* --- MAIN CARD --- */
.container { width:100%; max-width:500px; margin:0 auto; display:none; position:relative; perspective:1000px; }

.card { width:100%; height:auto; transition:transform 0.8s; transform-style:preserve-3d; }
.card.is-flipped { transform: rotateY(180deg); }

.card-face { position:absolute; width:100%; height:100%; backface-visibility:hidden; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; padding:2rem; border-radius:2rem; box-shadow:0 1rem 2rem rgba(0,0,0,0.1); }
.card-front { background: rgba(255,255,255,0.85); backdrop-filter: blur(8px); }
.card-back { background:white; transform: rotateY(180deg); }

.couple-photo { width:140px; height:140px; border-radius:50%; border:5px solid #ff3366; object-fit:cover; margin-bottom:15px; }

.buttons { display:flex; gap:20px; margin-top:20px; z-index:100; }
button.main-btn { padding:0.8rem 2rem; font-size:1.2rem; border-radius:1rem; min-width:120px; }
#yes { background:#ff3366; color:white; }
#no { background:#e0e0e0; color:#555; cursor:pointer; transition:0.2s; }
</style>
</head>
<body>

<img id="fixed-ring-img" src="https://i.ibb.co/6JHgQZXP/ring.png" alt="Ring">
<img id="top-left-pic" class="corner-pic" src="https://i.ibb.co/sJqqyYbV/istockphoto-1355803803-612x612-removebg-preview.png" alt="Top Left">
<img id="top-right-pic" class="corner-pic" src="https://i.ibb.co/27jLYxW8/download-1-removebg-preview.png" alt="Top Right">
<img id="bottom-left-pic" class="corner-pic" src="https://i.ibb.co/G4q8G3q4/flat-750x-075-f-pad-750x1000-f8f8f8-removebg-preview.png" alt="Bottom Left">

<div id="cry-popup">WHY WOULD YOU DO THAT üò≠</div>
<div id="heart-crack">üíî</div>

<div id="passcode-screen">
  <div class="login-card">
    <h2 style="color:#ff3366;">For Yesmine üß∏</h2>
    <div id="login-countdown">02:00</div>
    <input type="password" id="pass-input" placeholder="Passcode" maxlength="4">
    <p style="font-size:0.8rem; color:#ff3366;">Hint: Our first date (DDMM)</p>
    <button id="login-btn">Unlock ‚ù§Ô∏è</button>
    <p id="timeout-msg" style="color:red; display:none; font-weight:bold; margin-top:10px;">Too slow! Please refresh to try again. üíî</p>
  </div>
</div>

<div class="container" id="main-container">
  <div class="card" id="card-inner">
    <div class="card-face card-front">
      <div class="bear-icon" style="font-size:4rem;">üß∏</div>
      <h2 style="color:#ff3366; margin:10px 0;">Will you be my Valentine?</h2>
      <div class="timer-box">
        <div style="font-size:0.8rem; color:#ff3366;">Together since Oct 31:</div>
        <div id="timer" style="font-family:monospace; color:#ff3366; font-weight:bold;"></div>
      </div>
      <p style="font-size:0.95rem; max-width:320px; color:#444;">I coded this just for you, Yesmine. üå∏</p>
      <div class="buttons">
        <button id="yes" class="main-btn">YES! üíñ</button>
        <button id="no" class="main-btn">No üôÉ</button>
      </div>
    </div>

    <div class="card-face card-back">
      <img src="https://i.ibb.co/KjyKMXRd/IMG-5492.jpg" class="couple-photo" alt="Us">
      <h2 style="color:#ff3366;">IT'S A DATE! üåπ</h2>
      <p style="color:#ff3366; font-weight:bold;">Together for <span id="days-count"></span> days. üíç</p>
      <button onclick="location.reload()" style="background:none; border:none; color:#ff3366; text-decoration: underline; cursor:pointer;">Restart ‚ú®</button>
    </div>
  </div>
</div>

<audio id="no-sound" src="baby-cry.mp3" preload="auto"></audio>
<audio id="yes-sound" src="yay.mp3" preload="auto"></audio>

<div id="falling-container"></div>

<script>
const noSound = document.getElementById('no-sound');
const yesSound = document.getElementById('yes-sound');
const passInput = document.getElementById('pass-input');
const loginBtn = document.getElementById('login-btn');
const passScreen = document.getElementById('passcode-screen');
const container = document.getElementById('main-container');
const ringImg = document.getElementById('fixed-ring-img');
const pics = document.querySelectorAll('.corner-pic');
const card = document.getElementById('card-inner');
const yesBtn = document.getElementById('yes');
const noBtn = document.getElementById('no');
const loginDisplay = document.getElementById('login-countdown');
const timeoutMsg = document.getElementById('timeout-msg');
const cryPopup = document.getElementById('cry-popup');
const heartCrack = document.getElementById('heart-crack');
const fallingContainer = document.getElementById('falling-container');

let loginTimeLeft = 120;
let timerFinished = false;

function startLoginTimer() {
  const interval = setInterval(() => {
    loginTimeLeft--;
    let mins = Math.floor(loginTimeLeft/60);
    let secs = loginTimeLeft % 60;
    loginDisplay.innerText = `${mins<10?'0':''}${mins}:${secs<10?'0':''}${secs}`;
    if (loginTimeLeft<=0) { clearInterval(interval); timerFinished=true; passInput.disabled=true; loginBtn.disabled=true; timeoutMsg.style.display='block'; }
  },1000);
}
startLoginTimer();

function updateTimer() {
  const start = new Date(2025,9,31);
  const now = new Date();
  const diff = now-start;
  const d = Math.floor(diff/(1000*60*60*24));
  const h = Math.floor((diff/(1000*60*60))%24);
  const m = Math.floor((diff/(1000*60))%60);
  const s = Math.floor((diff/1000)%60);
  document.getElementById('timer').innerText = `${d}d ${h}h ${m}m ${s}s`;
  document.getElementById('days-count').innerText = d;
}
setInterval(updateTimer,1000);
updateTimer();

loginBtn.onclick = () => {
  if(timerFinished) return;
  if(passInput.value==="3110") {
    passScreen.style.transform = "translateY(-100vh)";
    setTimeout(()=>{
      container.style.display='block';
      ringImg.style.display='block';
      pics.forEach(pic=>pic.style.display='block');
    },500);
  } else { alert("Incorrect passcode! üò≠"); }
};

noBtn.onmouseover = () => {
  for(let i=0;i<5;i++){ setTimeout(createFallingItem,i*150); }
  const x = Math.random()*80-40;
  const y = Math.random()*80-40;
  noBtn.style.transform=`translate(${x}px,${y}px)`;
  yesBtn.style.transform=`scale(1.15)`;
  noSound.currentTime=0; noSound.play().catch(()=>{});
  document.body.classList.add('shake-screen');
  setTimeout(()=>document.body.classList.remove('shake-screen'),400);
  document.body.classList.add('red-bg');
  cryPopup.style.display='block';
  heartCrack.style.display='block';
  heartCrack.style.animation='none';
  void heartCrack.offsetWidth;
  heartCrack.style.animation='crackAnim 0.6s ease forwards';
  setTimeout(()=>{
    document.body.classList.remove('red-bg');
    cryPopup.style.display='none';
    heartCrack.style.display='none';
  },800);
};

yesBtn.onclick = () => {
  noSound.pause(); noSound.currentTime=0;
  yesSound.currentTime=0; yesSound.play().catch(()=>{});
  card.classList.add('is-flipped');
};

function createFallingItem() {
  const items=['üå∏','üåπ','üß∏','üå∑','‚ú®','üíñ'];
  const item=document.createElement('div');
  item.className='falling-item';
  item.innerText=items[Math.floor(Math.random()*items.length)];
  item.style.left=Math.random()*100+'vw';
  const size=Math.random()*30+20;
  item.style.fontSize=size+'px';
  const duration=Math.random()*3+4;
  item.style.animation=`fall ${duration}s linear forwards`;
  fallingContainer.appendChild(item);
  setTimeout(()=>item.remove(), duration*1000);
}

setInterval(createFallingItem,250);
</script>
</body>
</html>
